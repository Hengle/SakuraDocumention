---
create: 2023-04-23 21:40
aliases: []
tags: [ECS]
---
在 DOD 的概念中，数据的访问频率是对数据分类的一个重要指标，将访问频率相同的数据放在一起的操作一般称为合批，这在性能优化中是常见的思路。
在 ECS 中我们坚定的实践了这种思想，从 SOA 到 [[MemoryModel 选型]] 都是在尽量对数据进行合批，而除了数据合批之外，访问也需要尽量的合批，所以在 API 设计上，我们选择了 `ChunkView` - 也就是连续相同类型对象的一个切片，作为最基本的访问单元，所有的操作都对切片进行（就算是单个对象也不例外）以鼓励合批。
对于用户来说，这种思想也是重要的指导，根据数据的访问频率来拆分组件，甚至拆分对象能带来更好的解耦和可观的性能提升。