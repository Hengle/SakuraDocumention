---
create: 2024-01-03 21:09
aliases: []
tags: []
---
## 概览
GOAP AI 旨在解决最小成本达成目标的问题（相较于 FSM 与行为树），要求对每个行为节点的执行代价有大致估算，以用于寻路。

节点分为 Goal 与 Action，Goal 是寻路终点，当 Goal 激活时，会寻找可用的 Action 进行寻路。

需要解决的问题如下：
1.  Goal 的激活问题，可以通过 Cond 激活，但是更好的方式是让宿主进行调度，框架提供给宿主达成某个（或一组）Goal 的 Cost，然后由宿主决定要达成哪个 Goal
2. 存在执行某个节点，影响其它节点 Cost 的情况，需要向框架提供基本描述以防止框架无法识别到某些看起来像是「绕远路」但实际上降低了运行成本的情况
3. 并行任务，比如一边走路一边喝水等等，可以通过多个 Goal 并求解最佳路径来实现，但是这要求框架具备同时执行多个 Action 的能力，并知悉 Action 之间的互斥关系

针对点 1，可以抽象 Goal 之间的基本关系，比如互斥、顺序执行、同时执行等，更倾向于提供决策器，让宿主使用，而不是直接实现在框架内。

GOAP 是一种对行为的模仿，需要对使用方式进行规范，否则容易做的非常混沌，这一点还留待以后探索


## 资料
- https://github.com/cpowell/cppGOAP/tree/develop
- [Introduction - GOAP (crashkonijn.com)](https://goap.crashkonijn.com/)